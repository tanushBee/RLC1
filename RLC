model RLC_switched "An RLC circuit with a switch"
//types
type Voltage=Real(unit="V");
type Current=Real(unit="A");
type Resistance=Real(unit="Ohm");
type Capacitance=Real(unit="F");
type Inductance=Real(unit="H");
//parameteres
parameter Voltage Vb=24 "Battery voltage";
parameter Inductance L=1;
parameter Capacitance C=1e-3;
parameter Resistance R=100;
//variables
Voltage Vs;
Voltage V;
Current i_L;
Current i_R;
Current i_C;
//equations
equation
  Vs=if time>0.5 then Vb else 0;
  i_R=V/R;
  i_C=C*der(V);
  i_L=i_R+i_C;
  L*der(i_L)=Vs-V;
annotation(
    experiment(StartTime = 0, StopTime = 2, Tolerance = 1e-6, Interval = 0.002));end RLC_switched;
